{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\home\\controller\\yqb.js"
    ],
    "names": [
        "indexAction",
        "display",
        "configAction",
        "helpAction",
        "writeconfigAction",
        "base_css",
        "post",
        "css",
        "base_js",
        "js",
        "c",
        "concat",
        "j",
        "tpl",
        "stbuiTemplate",
        "domain",
        "appName",
        "version",
        "framework",
        "coverFormat",
        "cwd",
        "process",
        "writeFileSync",
        "json",
        "options",
        "path",
        "think",
        "RESOURCE_PATH",
        "result",
        "readFileSync",
        "replace",
        "arr",
        "isEmpty",
        "data",
        "map",
        "value",
        "join"
    ],
    "mappings": "AAAA;;;;;;;;;;;;;;;;AAEA;;;;AACA;;;;;;;;;;;;;;AAGI;;;;qBAIAA,W,0BAAc;;AAEV,eAAO,KAAKC,OAAL,EAAP;AACH,K;;qBAEDC,Y,2BAAe;AACX,eAAO,KAAKD,OAAL,EAAP;AACH,K;;qBAEDE,U,yBAAa;AACT,eAAO,KAAKF,OAAL,EAAP;AACH,K;;qBAEDG,iB,gCAAoB;AAChB,YAAMC,WAAW,KAAKC,IAAL,CAAU,UAAV,CAAjB;AACA,YAAMC,MAAM,KAAKD,IAAL,CAAU,KAAV,CAAZ;AACA,YAAME,UAAU,KAAKF,IAAL,CAAU,SAAV,CAAhB;AACA,YAAMG,KAAK,KAAKH,IAAL,CAAU,IAAV,CAAX;;AAEA,YAAII,IAAIL,SAASM,MAAT,CAAgBJ,GAAhB,CAAR;AACA,YAAIK,IAAIJ,QAAQG,MAAR,CAAeF,EAAf,CAAR;;AAEA,YAAII,MAAM,KAAKC,aAAL,CAAmB;AACzBC,oBAAQ,2CADiB;AAEzBC,qBAAS,EAFgB;AAGzBC,qBAAS,cAHgB;AAIzBC,uBAAW,KAAKC,WAAL,CAAiBP,CAAjB;AAJc,SAAnB,CAAV;;AAOA;AACA,YAAIQ,MAAMC,QAAQD,GAAR,KAAgB,gBAA1B;AACA,qBAAGE,aAAH,CAAiBF,GAAjB,EAAsBP,GAAtB,EAA2B,OAA3B;;AAEA,aAAKU,IAAL,CAAUV,GAAV;AACH,K;;qBAEDC,a,0BAAcU,O,EAAS;AACnB,YAAIC,OAAOC,MAAMC,aAAN,GAAsB,mBAAjC;;AAEA,YAAIC,SAAS,aAAGC,YAAH,CAAgBJ,IAAhB,EAAsB,OAAtB,CAAb;AACAG,iBAASA,OACJE,OADI,CACI,aADJ,EACmBN,QAAQT,MAD3B,EAEJe,OAFI,CAEI,cAFJ,EAEoBN,QAAQP,OAF5B,EAGJa,OAHI,CAGI,cAHJ,EAGoBN,QAAQR,OAH5B,EAIJc,OAJI,CAII,gBAJJ,EAIsBN,QAAQN,SAJ9B,CAAT;;AAOA,eAAOU,MAAP;AACH,K;;qBAEDT,W,wBAAYY,G,EAAK;AACb,YAAIL,MAAMM,OAAN,CAAcD,GAAd,CAAJ,EAAwB;AACpB,mBAAO,mBAAP;AACH;;AAED,YAAIE,OAAOF,IAAIG,GAAJ,CAAQ,iBAAQ;AACvB,mBAAO,eAAeC,KAAf,GAAuB,OAA9B;AACH,SAFU,CAAX;;AAIA,eAAO,MAAMF,KAAKG,IAAL,CAAU,GAAV,CAAN,GAAuB,GAA9B;AACH,K",
    "file": "..\\..\\..\\src\\home\\controller\\yqb.js",
    "sourcesContent": [
        "'use strict';\n\nimport Base from './base.js';\nimport fs from 'fs';\n\nexport default class extends Base {\n    /**\n     * index action\n     * @return {Promise} []\n     */\n    indexAction() {\n\n        return this.display();\n    }\n\n    configAction() {\n        return this.display();\n    }\n\n    helpAction() {\n        return this.display();\n    }\n\n    writeconfigAction() {\n        const base_css = this.post('base_css');\n        const css = this.post('css');\n        const base_js = this.post('base_js');\n        const js = this.post('js');\n\n        let c = base_css.concat(css);\n        let j = base_js.concat(js);\n\n        let tpl = this.stbuiTemplate({\n            domain: 'http://emres.dfcfw.com/stock/201610121223',\n            appName: '',\n            version: '201610121223',\n            framework: this.coverFormat(j)\n        });\n\n        // 写入到执行命令行的目录下\n        let cwd = process.cwd() + '/stbui.conf.js';\n        fs.writeFileSync(cwd, tpl, 'utf-8');\n\n        this.json(tpl);\n    }\n\n    stbuiTemplate(options) {\n        let path = think.RESOURCE_PATH + '/static/config.js';\n\n        let result = fs.readFileSync(path, 'utf-8');\n        result = result\n            .replace(/{{domain}}/g, options.domain)\n            .replace(/{{version}}/g, options.version)\n            .replace(/{{appName}}/g, options.appName)\n            .replace(/{{framework}}/g, options.framework)\n        ;\n\n        return result;\n    }\n\n    coverFormat(arr) {\n        if (think.isEmpty(arr)) {\n            return 'framework/**/*.js';\n        }\n\n        let data = arr.map(value=> {\n            return 'framework/' + value + '/*.js';\n        });\n\n        return \"{\" + data.join(',') + \"}\";\n    }\n}"
    ]
}